{"ast":null,"code":"import _slicedToArray from\"/Users/claudia.madrid/Desktop/ClaudiaThings/Technical interview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import\"../styles/searchControl.css\";import Button from\"./Button\";import Axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchControl(_ref){var setData=_ref.setData,handleMessage=_ref.handleMessage;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var ref=useRef(null);var handleChange=function handleChange(event){var numbers=/^[0-9]+$/;if(event.target.value.match(numbers)){setValue(event.target.value);}else{handleMessage('fail',\"Plase, use only numbers\");}};var handleSearch=function handleSearch(){if(value.length!==0&&value!==''){Axios.get(\"https://jsonplaceholder.typicode.com/posts/\".concat(value),{}).then(function(response){console.log(response);//console.log(response.data);\nif(response.status===200){setData('search',response.data);}handleMessage('success',\"The Post was successfully found.\");}).catch(function(error){if(error.response){//out of 2XX\nhandleMessage('fail',\"Error, something went wrong\");console.log(error.response.data);console.log(error.response.status);console.log(error.response.headers);}else if(error.request){// The request was made but no response was received\nhandleMessage('fail',\"Something went wrong\");console.log(error.request);}else{// Something happened in setting up the request that triggered an Error\nhandleMessage('fail',\"Something went wrong\");console.log('Error',error.message);}handleMessage('fail',\"Error, something went wrong\");console.log(error.config);});}else{handleMessage('fail',\"Empty line\");}ref.current.value='';setValue('');};return/*#__PURE__*/_jsx(\"div\",{className:\"searchControl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Find by Item id: \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Find...\",type:\"number\",name:\"itemNumber\",id:\"inputSearch\",pattern:\"[0-9]+\",required:true,min:0,ref:ref,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{size:\"sm\",className:\"find\",onClick:function onClick(){handleSearch();},children:\"Search\"})]})});}export default SearchControl;","map":{"version":3,"names":["React","useRef","useState","Button","Axios","jsx","_jsx","jsxs","_jsxs","SearchControl","_ref","setData","handleMessage","_useState","_useState2","_slicedToArray","value","setValue","ref","handleChange","event","numbers","target","match","handleSearch","length","get","concat","then","response","console","log","status","data","catch","error","headers","request","message","config","current","className","children","placeholder","type","name","id","pattern","required","min","onChange","size","onClick"],"sources":["/Users/claudia.madrid/Desktop/ClaudiaThings/Technical interview/src/components/SearchControl.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport \"../styles/searchControl.css\"\nimport Button from \"./Button\";\nimport Axios  from 'axios';\n\nfunction SearchControl ({setData, handleMessage}){\n\n    const [value, setValue]= useState('');\n    const ref= useRef(null);\n\n    const handleChange =(event)=>{\n        var numbers = /^[0-9]+$/;\n       if(event.target.value.match(numbers))\n      {\n        setValue(event.target.value);\n      }else{\n        handleMessage('fail', \"Plase, use only numbers\")\n      }\n    };\n\n\n    const handleSearch = ()=>{\n        if(value.length !== 0 && value !== ''){\n            Axios.get(`https://jsonplaceholder.typicode.com/posts/${value}`, {})\n        .then((response)=>{ \n          console.log(response);\n          //console.log(response.data);\n          if(response.status === 200){\n            setData('search',response.data);\n          }\n          handleMessage('success', \"The Post was successfully found.\");})\n        .catch(function (error){\n            if(error.response){\n                //out of 2XX\n                handleMessage('fail', \"Error, something went wrong\");\n                console.log(error.response.data);\n                console.log(error.response.status);\n                console.log(error.response.headers);\n            }else if(error.request) {\n                 // The request was made but no response was received\n                 handleMessage('fail', \"Something went wrong\");\n                 console.log(error.request);\n            }else {\n                // Something happened in setting up the request that triggered an Error\n                handleMessage('fail', \"Something went wrong\");\n                console.log('Error', error.message);\n              }\n              handleMessage('fail', \"Error, something went wrong\");\n              console.log(error.config);\n        });\n        }else{\n            handleMessage('fail', \"Empty line\");\n        }\n        ref.current.value= '';\n        setValue('');\n    }\n\n    return(\n        <div className='searchControl'>\n\n             <div className=\"search\">\n                <label>Find by Item id: </label>\n                <input \n                    placeholder=\"Find...\"\n                    type=\"number\"\n                    name=\"itemNumber\"\n                    id=\"inputSearch\"\n                    pattern=\"[0-9]+\"\n                    required\n                    min={0}\n                    ref={ref}\n                    onChange={handleChange}\n                    ></input>\n                <Button size={\"sm\"} className={\"find\"}\n                        onClick={()=>{handleSearch()}}>Search</Button>\n                \n             </div>\n        </div>\n    );\n}\n\nexport default SearchControl;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}